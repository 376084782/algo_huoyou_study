import { GameData1_4, module1_4 } from ".";
import { FileWriter } from "../../common/FileWriter";

let ctr = new module1_4()
function test() {
    let desk = { "player": 1, "desk": [[1, 1, 4, 2], [1, 1, 4, 2], [4, 3, 3, 3], [4, 3, 3, 3]], "ques": [[4, 0, 2, 0], [0, 0, 0, 2], [0, 0, 6, 0], [2, 0, 0, 0]], "typeSet": 1 }
    // desk.desk = [
    //     [1, 1, 2, 2],
    //     [1, 1, 2, 2],
    //     [1, 1, 4, 5],
    //     [3, 3, 3, 3],
    // ]
    let f = ctr.checkDesk(desk)
    console.log(f);

}

test()

function getQues() {

    var list1 = [
        [
            [4, 0, 2, 0],
            [0, 0, 0, 2],
            [0, 0, 6, 0],
            [2, 0, 0, 0]
        ],
        [
            [0, 0, 2, 0],
            [4, 0, 0, 2],
            [0, 0, 0, 4],
            [4, 0, 0, 0]
        ],
        [
            [0, 4, 2, 0],
            [0, 0, 2, 0],
            [0, 0, 6, 0],
            [0, 0, 0, 2]
        ],
        [
            [0, 2, 2, 0],
            [0, 2, 0, 0],
            [0, 4, 4, 0],
            [0, 0, 0, 2]
        ],
        [
            [0, 3, 0, 1],
            [0, 2, 0, 3],
            [4, 0, 0, 0],
            [0, 0, 3, 0]
        ],
        [
            [3, 0, 0, 1],
            [0, 4, 0, 3],
            [0, 0, 3, 0],
            [2, 0, 0, 0]
        ],
        [
            [2, 0, 4, 0],
            [0, 0, 0, 2],
            [0, 2, 0, 0],
            [2, 0, 4, 0]
        ],
        [
            [2, 0, 4, 0],
            [3, 0, 0, 0],
            [0, 3, 0, 0],
            [0, 0, 0, 4]
        ],
        [
            [0, 0, 3, 0],
            [4, 6, 0, 0],
            [0, 0, 0, 0],
            [0, 0, 2, 1]
        ],
        [
            [0, 6, 0, 2],
            [0, 0, 0, 0],
            [1, 2, 0, 1],
            [1, 0, 3, 0]
        ]
    ]

    var list2 = [
        [
            [0, 4, 0, 0, 1],
            [2, 0, 3, 0, 0],
            [0, 4, 0, 0, 2],
            [4, 0, 0, 0, 0]
        ],
        [
            [2, 0, 0, 0, 3],
            [0, 0, 0, 3, 0],
            [4, 0, 0, 0, 4],
            [0, 2, 2, 0, 0]
        ],
        [
            [0, 0, 2, 0, 2],
            [4, 0, 0, 0, 0],
            [0, 0, 4, 4, 0],
            [2, 0, 0, 0, 2]
        ],
        [
            [1, 0, 3, 0, 1],
            [0, 0, 2, 0, 4],
            [2, 2, 0, 0, 0],
            [1, 0, 0, 4, 0]
        ],
        [
            [2, 0, 0, 0, 3],
            [0, 0, 3, 0, 0],
            [3, 4, 0, 0, 3],
            [0, 0, 0, 2, 0]
        ],
        [
            [3, 0, 0, 0, 2],
            [2, 0, 2, 2, 0],
            [0, 2, 0, 0, 2],
            [1, 0, 2, 2, 0]
        ],
        [
            [0, 3, 0, 0, 0],
            [0, 2, 0, 2, 4],
            [3, 0, 0, 0, 0],
            [0, 0, 6, 0, 0]
        ],
        [
            [1, 0, 0, 4, 0],
            [0, 0, 0, 0, 4],
            [3, 4, 0, 0, 0],
            [0, 0, 2, 2, 0]
        ],
        [
            [0, 3, 0, 0, 4],
            [3, 0, 0, 0, 0],
            [0, 0, 4, 0, 2],
            [2, 0, 0, 2, 0]
        ],
        [
            [0, 3, 0, 0, 2],
            [2, 0, 0, 0, 0],
            [0, 4, 4, 0, 2],
            [0, 0, 0, 3, 0]
        ]
    ]

    var list3 = [
        [
            [1, 0, 2, 0, 4],
            [0, 0, 3, 0, 0],
            [0, 3, 0, 2, 0],
            [4, 0, 0, 4, 0],
            [0, 0, 2, 0, 0]
        ],
        [
            [3, 0, 2, 0, 2],
            [0, 3, 0, 0, 0],
            [0, 0, 4, 0, 0],
            [0, 4, 0, 0, 3],
            [0, 0, 0, 4, 0]
        ],
        [
            [0, 4, 0, 2, 0],
            [0, 0, 0, 2, 0],
            [2, 0, 4, 0, 3],
            [2, 0, 0, 3, 0],
            [0, 1, 0, 0, 3]
        ],
        [
            [2, 0, 4, 0, 2],
            [0, 0, 0, 2, 0],
            [0, 0, 0, 3, 0],
            [4, 0, 0, 0, 4],
            [2, 0, 2, 0, 0],
        ],
        [
            [0, 2, 0, 0, 3],
            [3, 0, 0, 2, 0],
            [0, 4, 0, 0, 2],
            [0, 0, 2, 0, 0],
            [0, 3, 0, 4, 0]
        ],
        [
            [0, 6, 0, 2, 0],
            [0, 0, 0, 2, 0],
            [0, 0, 1, 0, 2],
            [6, 0, 0, 0, 2],
            [0, 0, 4, 0, 0]
        ],
        [
            [2, 0, 3, 0, 2],
            [0, 0, 0, 3, 0],
            [3, 0, 2, 0, 4],
            [0, 0, 0, 0, 0],
            [0, 4, 0, 2, 0]
        ],
        [
            [3, 0, 0, 0, 4],
            [0, 0, 3, 0, 0],
            [4, 0, 0, 0, 3],
            [0, 0, 2, 0, 0],
            [2, 0, 0, 0, 4]
        ],
        [
            [0, 0, 3, 0, 0],
            [0, 0, 0, 4, 0],
            [0, 6, 0, 3, 0],
            [2, 0, 1, 0, 3],
            [0, 0, 3, 0, 0]
        ],
        [
            [0, 0, 0, 0, 3],
            [4, 0, 0, 3, 0],
            [0, 2, 0, 2, 1],
            [0, 0, 0, 4, 0],
            [4, 0, 0, 0, 2]
        ]
    ]

    var list4 = [
        [
            [0, 3, 0, 0, 0],
            [0, 0, 0, 4, 0],
            [0, 6, 0, 0, 2],
            [1, 0, 4, 0, 3],
            [0, 2, 0, 0, 0],
            [2, 0, 3, 0, 0]
        ],
        [
            [0, 4, 0, 0, 4],
            [0, 0, 2, 0, 0],
            [3, 0, 0, 2, 0],
            [3, 2, 0, 0, 4],
            [0, 0, 4, 0, 0],
            [0, 0, 0, 2, 0]
        ],
        [
            [0, 4, 0, 0, 3],
            [0, 0, 3, 0, 0],
            [0, 0, 4, 0, 0],
            [8, 0, 0, 0, 2],
            [0, 0, 0, 0, 4],
            [0, 0, 2, 0, 0]
        ],
        [
            [2, 0, 0, 0, 3],
            [4, 0, 0, 0, 4],
            [0, 0, 2, 0, 0],
            [0, 0, 2, 0, 0],
            [6, 0, 4, 0, 3],
            [0, 0, 0, 0, 0]
        ],
        [
            [0, 0, 3, 0, 0],
            [6, 0, 0, 0, 6],
            [0, 0, 0, 0, 0],
            [2, 0, 3, 0, 0],
            [0, 4, 0, 0, 4],
            [0, 0, 2, 0, 0]
        ],
        [
            [0, 0, 1, 0, 2],
            [6, 0, 0, 3, 0],
            [0, 0, 0, 0, 6],
            [2, 0, 0, 0, 0],
            [4, 0, 0, 6, 0],
            [0, 0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 6, 0],
            [8, 0, 0, 0, 0],
            [0, 0, 2, 0, 4],
            [0, 0, 0, 0, 0],
            [0, 4, 0, 0, 1],
            [2, 0, 0, 3, 0]
        ],
        [
            [0, 3, 0, 0, 4],
            [0, 6, 0, 0, 0],
            [0, 0, 0, 2, 0],
            [0, 0, 4, 0, 0],
            [0, 0, 6, 0, 3],
            [2, 0, 0, 0, 0]
        ],
        [
            [0, 0, 0, 2, 0],
            [0, 4, 0, 3, 0],
            [4, 0, 4, 0, 0],
            [0, 0, 0, 0, 3],
            [0, 0, 0, 0, 0],
            [4, 0, 0, 6, 0]
        ],
        [
            [1, 0, 3, 0, 3],
            [2, 0, 0, 4, 0],
            [0, 2, 0, 0, 0],
            [3, 0, 0, 0, 4],
            [0, 6, 0, 0, 0],
            [0, 0, 0, 2, 0]
        ]
    ]
    var list5 = [
        [
            [0, 0, 4, 0, 0, 0],
            [6, 0, 0, 0, 0, 6],
            [0, 0, 0, 2, 0, 0],
            [0, 3, 0, 2, 0, 0],
            [2, 0, 0, 3, 0, 2]
        ],
        [
            [3, 0, 0, 0, 0, 3],
            [0, 0, 6, 0, 4, 0],
            [0, 0, 0, 0, 0, 2],
            [0, 3, 0, 1, 4, 0],
            [2, 0, 0, 2, 0, 0]
        ],
        [
            [0, 2, 0, 4, 0, 0],
            [2, 0, 0, 0, 4, 0],
            [0, 3, 0, 0, 0, 0],
            [0, 0, 4, 6, 0, 3],
            [2, 0, 0, 0, 0, 0]
        ],
        [
            [2, 0, 0, 0, 3, 0],
            [0, 0, 3, 0, 1, 3],
            [3, 0, 4, 0, 0, 0],
            [0, 0, 0, 0, 4, 2],
            [2, 0, 0, 3, 0, 0]
        ],
        [
            [0, 0, 4, 0, 0, 3],
            [3, 0, 0, 1, 0, 2],
            [0, 0, 3, 0, 0, 0],
            [2, 0, 0, 0, 6, 0],
            [0, 0, 4, 2, 0, 0]
        ],
        [
            [3, 0, 4, 0, 2, 0],
            [0, 3, 0, 0, 4, 0],
            [0, 0, 0, 1, 0, 0],
            [0, 0, 3, 0, 0, 0],
            [4, 0, 0, 0, 6, 0]
        ],
        [
            [0, 0, 0, 3, 3, 2],
            [3, 0, 6, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 2, 0, 3, 0, 3],
            [2, 0, 0, 3, 0, 0]
        ],
        [
            [0, 0, 3, 0, 0, 2],
            [0, 6, 0, 0, 4, 0],
            [0, 0, 0, 4, 0, 0],
            [3, 0, 0, 0, 0, 3],
            [0, 2, 0, 3, 0, 0]
        ],
        [
            [0, 0, 3, 0, 0, 4],
            [0, 2, 0, 4, 0, 0],
            [4, 0, 0, 0, 1, 2],
            [0, 0, 4, 0, 0, 0],
            [0, 4, 0, 0, 2, 0]
        ],
        [
            [0, 0, 4, 0, 4, 0],
            [4, 0, 0, 4, 0, 0],
            [0, 0, 0, 0, 0, 4],
            [0, 0, 3, 0, 0, 0],
            [2, 1, 0, 2, 2, 0]
        ]
    ]
    var list6 = [
        [
            [1, 0, 2, 0, 3, 0],
            [0, 4, 2, 0, 0, 3],
            [0, 0, 0, 3, 0, 0],
            [0, 0, 3, 0, 0, 3],
            [0, 4, 0, 4, 0, 0],
            [2, 0, 0, 0, 0, 2]
        ],
        [
            [0, 0, 0, 4, 0, 0],
            [2, 4, 0, 0, 4, 3],
            [3, 0, 0, 0, 0, 0],
            [0, 0, 2, 0, 3, 0],
            [0, 4, 0, 0, 0, 4],
            [1, 0, 0, 2, 0, 0]
        ],
        [
            [0, 0, 3, 0, 3, 0],
            [0, 0, 4, 0, 2, 1],
            [4, 0, 0, 0, 0, 2],
            [0, 3, 0, 0, 2, 0],
            [0, 0, 4, 0, 0, 4],
            [0, 4, 0, 0, 0, 0]
        ],
        [
            [3, 0, 0, 4, 0, 1],
            [0, 2, 0, 0, 2, 1],
            [0, 0, 0, 1, 1, 0],
            [1, 6, 0, 0, 0, 3],
            [2, 0, 0, 0, 4, 0],
            [0, 2, 0, 0, 3, 0]
        ],
        [
            [0, 0, 3, 0, 2, 0],
            [3, 0, 4, 0, 0, 3],
            [0, 0, 0, 0, 0, 0],
            [0, 3, 0, 4, 0, 4],
            [0, 0, 2, 0, 2, 0],
            [4, 0, 0, 2, 0, 0]
        ],
        [
            [0, 0, 4, 0, 2, 0],
            [2, 0, 0, 6, 0, 0],
            [0, 4, 0, 0, 0, 2],
            [0, 0, 0, 2, 0, 4],
            [2, 0, 3, 0, 0, 0],
            [0, 2, 0, 0, 3, 0]
        ],
        [
            [0, 3, 0, 0, 3, 0],
            [2, 0, 2, 0, 0, 2],
            [0, 2, 0, 0, 0, 0],
            [0, 2, 0, 2, 2, 2],
            [3, 0, 2, 0, 0, 0],
            [0, 1, 2, 0, 2, 0]
        ],
        [
            [0, 3, 0, 0, 3, 0],
            [0, 4, 0, 3, 0, 1],
            [0, 0, 2, 0, 0, 0],
            [0, 3, 0, 0, 4, 0],
            [3, 0, 4, 0, 0, 2],
            [0, 0, 0, 0, 4, 0]
        ],
        [
            [2, 0, 4, 0, 0, 2],
            [0, 0, 0, 2, 0, 0],
            [0, 0, 3, 0, 4, 0],
            [3, 2, 0, 0, 4, 0],
            [0, 0, 4, 0, 0, 2],
            [1, 0, 0, 0, 3, 0]
        ],
        [
            [2, 0, 4, 2, 0, 2],
            [0, 0, 0, 0, 2, 0],
            [1, 2, 0, 1, 2, 0],
            [0, 1, 0, 2, 0, 3],
            [3, 0, 0, 4, 0, 0],
            [0, 1, 0, 3, 0, 1]
        ]
    ]
    return {
        1: list1,
        2: list2,
        3: list3,
        4: list4,
        5: list5,
        6: list6
    }
}




function createQues() {
    // 三个等级，等级1两个棋子
    let map: any = getQues();
    let mapAll: any = {}
    for (let lev in map) {
        let listQues = map[lev];
        listQues.forEach((ques: number[][]) => {
            // 加一层校验，检验出错的题目
            let maxY = ques.length
            let maxX = ques[0].length;

            let max1 = maxX * maxY;
            let countTotal = 0;
            ques.forEach(row => {
                row.forEach(v => {
                    countTotal += v
                })
            })
            if (max1! - countTotal) {
                console.log('出错题目了');
            } else {
                let desk = ctr.getRiddle(maxX, maxY)
                desk.ques = ques;
                if (!mapAll[lev]) {
                    mapAll[lev] = []
                }
                mapAll[lev].push(desk)
            }

        });
    }
    writeQuesIn(mapAll, 999)
}
async function writeQuesIn(mapAll: any, maxEachLev = 10) {
    for (let level = 1; level <= 6; level++) {
        let listQues = mapAll[level].slice(0, maxEachLev)
        console.log(`写入等级${level},数量：${listQues.length}`)
        await FileWriter.setFile(`./train/1-4/level${level}.json`, JSON.stringify(listQues))
    }
}
createQues()
